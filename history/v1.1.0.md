# v1.1.0 更新日志

## 🔧 修复与优化

### 更新检查超时问题修复
- **问题修复**：修复更新检查时总是超时的问题
- **原因分析**：`autoUpdater.checkForUpdates()` 通过事件通知结果，Promise 不会立即 resolve，导致 `Promise.race` 总是超时
- **解决方案**：改用事件监听器处理超时，正确等待 `update-available`、`update-not-available` 或 `error` 事件
- **超时调整**：将超时时间从 12 秒调整为 20 秒，给网络请求更充足的时间

### 进度条显示优化
- **问题修复**：修复下载更新时进度条一直显示 0B/0B 的问题
- **数据传递**：确保 `transferred` 和 `total` 正确传递到前端
- **格式化优化**：优化 `formatBytes` 函数，正确处理字节数格式化
- **显示逻辑**：当 `total` 为 0 但 `transferred > 0` 时，显示已传输大小

### 代码优化
- **删除冗余代码**：删除前端的看门狗定时器，主进程已处理超时
- **日志优化**：简化日志输出，删除冗余的调试信息
- **错误处理**：优化错误处理逻辑，提供更清晰的错误信息

## 📝 说明
- 版本号升级为 1.1.0
- 更新检查现在能正确工作，不再出现超时错误
- 下载进度条能正确显示下载进度和字节数
