<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌻 向日葵Git仓库管理 v2.5</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 自定义标题栏 -->
    <div class="title-bar" id="title-bar">
        <div class="title-bar-content">
            <div class="title-bar-title">
                <span class="title-icon">🌻</span>
                <span class="title-text">向日葵Git仓库管理系统</span>
            </div>
            <div class="title-bar-controls">
                <button class="title-bar-btn" id="btn-minimize" title="最小化">−</button>
                <button class="title-bar-btn" id="btn-maximize" title="最大化/还原">□</button>
                <button class="title-bar-btn btn-close" id="btn-close" title="关闭">×</button>
            </div>
        </div>
    </div>

    <div class="app-container">

        <!-- 工具栏 -->
        <div class="toolbar">
            <button class="btn btn-primary" id="btn-add-repo">
                <span class="icon">➕</span> 添加仓库
            </button>
            <button class="btn btn-primary" id="btn-refresh">
                <span class="icon">🔄</span> 刷新列表
            </button>
            <button class="btn btn-primary" id="btn-platform-config">
                <span class="icon">⚙️</span> 平台配置
            </button>
            <button class="btn btn-primary" id="btn-sync-config">
                <span class="icon">🔗</span> 同步配置
            </button>
            <button class="btn btn-primary" id="btn-clone">
                <span class="icon">➕</span> 克隆仓库
            </button>
            <button class="btn btn-primary" id="btn-batch">
                <span class="icon">📤</span> 批量操作
            </button>
            <button class="btn btn-secondary" id="btn-help">
                <span class="icon">❓</span> 使用帮助
            </button>
            <button class="btn btn-secondary" id="btn-update" title="检查更新">
                <span class="icon">🔄</span> 检查更新
            </button>
            <button class="btn" id="btn-theme" title="切换主题">
                <span class="icon" id="theme-icon">🌙</span>
            </button>
        </div>

        <!-- 主内容区 -->
        <div class="main-content">
            <!-- 左侧：仓库列表 -->
            <div class="panel panel-left">
                <div class="panel-header">
                    <h2>📂 仓库列表</h2>
                </div>
                <div class="panel-body">
                    <div class="search-box">
                        <input type="text" id="search-input" placeholder="🔍 搜索仓库..." class="search-input">
                    </div>
                    <div class="repo-list-container">
                        <ul id="repo-list" class="repo-list"></ul>
                    </div>
                </div>
            </div>

            <!-- 中间：仓库信息 -->
            <div class="panel panel-middle">
                <div class="panel-header">
                    <h2>📊 仓库信息</h2>
                </div>
                <div class="panel-body">
                    <div class="repo-info" id="repo-info">
                        <div class="info-item">
                            <span class="info-label">仓库名称:</span>
                            <span class="info-value" id="info-name">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">平台:</span>
                            <span class="info-value" id="info-platform">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">当前分支:</span>
                            <span class="info-value" id="info-branch">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">同步角色:</span>
                            <span class="info-value" id="info-role">无</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">远程URL:</span>
                            <span class="info-value" id="info-remote">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">认证方式:</span>
                            <span class="info-value" id="info-auth">-</span>
                        </div>
                    </div>

                    <!-- 快速提交 -->
                    <div class="commit-section">
                        <h3>✏️ 快速提交</h3>
                        <textarea id="commit-message" class="commit-textarea" placeholder="输入提交信息..."></textarea>
                        <div class="commit-buttons">
                            <button class="btn btn-success" id="btn-commit">一键提交</button>
                            <button class="btn btn-info" id="btn-commit-push">提交并推送</button>
                            <button class="btn btn-warning" id="btn-commit-sync">提交并同步</button>
                        </div>
                    </div>

                    <!-- 快速操作 -->
                    <div class="operations-section">
                        <h3>🎮 快速操作</h3>
                        <div class="ops-grid">
                            <button class="btn btn-secondary" id="btn-pull">⬇️ 拉取</button>
                            <button class="btn btn-secondary" id="btn-push">⬆️ 推送</button>
                            <button class="btn btn-secondary" id="btn-stash">📦 暂存</button>
                            <button class="btn btn-secondary" id="btn-stash-pop">📤 恢复暂存</button>
                            <button class="btn btn-secondary" id="btn-create-branch">🌿 创建分支</button>
                            <button class="btn btn-secondary" id="btn-switch-branch">🔀 切换分支</button>
                            <button class="btn btn-secondary" id="btn-view-log">📜 查看日志</button>
                            <button class="btn btn-secondary" id="btn-view-diff">🔍 查看差异</button>
                            <button class="btn btn-secondary" id="btn-open-folder">📂 打开文件夹</button>
                        </div>
                    </div>

                    <!-- 文件变更（置于快速操作下） -->
                    <div class="changes-section">
                        <div class="section-header">
                            <h3>📝 文件变更</h3>
                            <button class="btn btn-sm" id="btn-refresh-changes">🔄 刷新</button>
                        </div>
                        <div id="changes-list" class="changes-list"></div>
                    </div>
                </div>
            </div>

            <!-- 右侧：操作日志 -->
            <div class="panel panel-right">
                <div class="panel-header">
                    <h2>📝 操作日志</h2>
                    <button class="btn-icon" id="btn-clear-log" title="清空日志">🗑️</button>
                </div>
                <div class="panel-body">
                    <div id="log-container" class="log-container"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- 模态框容器 -->
    <div id="modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content" id="modal-content"></div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
